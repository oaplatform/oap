package oap.http.server.nio;

public class ZeroPngHttpHandler implements HttpHandler {
    private static final byte[] the_empty_png = {
        ( byte ) 0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a,
        0x00, 0x00, 0x00, 0x0d, 0x49, 0x48, 0x44, 0x52,
        0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01,
        0x08, 0x06, 0x00, 0x00, 0x00, 0x1f, 0x15, ( byte ) 0xc4,
        ( byte ) 0x89, 0x00, 0x00, 0x00, 0x0a, 0x49, 0x44, 0x41,
        0x54, 0x78, ( byte ) 0x9c, 0x63, 0x00, 0x01, 0x00, 0x00,
        0x05, 0x00, 0x01, 0x0d, 0x0a, 0x2d, ( byte ) 0xb4, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, ( byte ) 0xae,
        0x42, 0x60, ( byte ) 0x82, 0x00

    };

    public ZeroPngHttpHandler( NioHttpServer server, String prefix ) {
        server.bind( prefix, this );
    }

    @Override
    public void handleRequest( HttpServerExchange exchange ) throws Exception {
        exchange.responseOk( the_empty_png, "image/png" );
    }
}
