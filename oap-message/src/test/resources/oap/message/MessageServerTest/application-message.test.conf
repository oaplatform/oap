boot.main = [
  oap
  oap-http
  oap-message-test
]

profiles = [
  http
  oap-message-sender
  oap-message-server
]

services {
  oap-http {
    oap-http-server.parameters {
      defaultPort.httpPort = ${MESSAGE_SERVER_FIXTURE_TEST_HTTP_PORT}
      additionalHttpPorts.httpprivate = ${MESSAGE_SERVER_FIXTURE_TEST_HTTP_PORT}
    }
  }
  oap-message {
    oap-http-message-sender.parameters {
      host = localhost
      port = ${MESSAGE_SERVER_FIXTURE_TEST_HTTP_PORT}
      persistenceDirectory = ${MESSAGE_SERVER_FIXTURE_TEST_DIRECTORY}/opt/oap/messages/sender
    }
    oap-http-message-handler.parameters {
      controlStatePath = ${MESSAGE_SERVER_FIXTURE_TEST_DIRECTORY}/opt/oap/messages/server
      clientHashCacheSize = 2048
    }
  }
}